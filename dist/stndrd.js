var _=require("lodash"),countries=require("country-data").countries,currencies=require("country-data").currencies;exports.settings={defaultCurrency:"USD",currencyMap:{$:"USD","£":"GBP","€":"EUR","¥":"JPY","₩":"KRW"},sizeMap:{"extra small":"XS","x small":"XS",small:"S",medium:"M",large:"L","extra large":"XL","xx large":"XXL","xxx large":"XXXL",os:"OS","n/a":"OS","one size":"OS"}};var convertString=function(inputString){return _.map(inputString.split(/[\/,]+/),function(n){return n.trim()})},getCountryCode=function(country,type){var code=_.find(countries.all,function(o){return o.name.toLowerCase()===country.toLowerCase()});return code?code[type]:(console.log("No ISO code found for input",country),country)},getCurrencyCode=function(country){var code=_.find(countries.all,function(o){return o.name.toLowerCase()===country.toLowerCase()});return code?code.currencies[0]:void console.log("No currency found for input",country)};exports.countries=function(inputString,type){if("string"==typeof inputString){if("name"===type)var filter="name";else{if("currency"===type){var countriesArray=convertString(inputString);return _.map(countriesArray,function(country){return getCurrencyCode(country)})}var filter="alpha2"}var countriesArray=convertString(inputString);return _.map(countriesArray,function(country){return getCountryCode(country,filter)})}return console.warn("countries method requires a string as the first arugment, arg passed in was of type",typeof inputString),inputString},exports.currency=function(price){if(exports.settings.currencyMap[price[0]])var currency_code=exports.settings.currencyMap[price[0]];else var currency_code=exports.settings.defaultCurrency;return{currency_code:currency_code,amount:100*parseFloat(price.replace(/[^0-9-.]/g,""))}},exports.size=function(size){var res;return"string"==typeof size?(size=size.toLowerCase(),exports.settings.sizeMap[size]?res=exports.settings.sizeMap[size]:(console.log("No size mapping for input",size),res=size)):res=size,console.log(res),res},exports.getDefaults=function(){return 0===_.size(arguments)?exports.settings:void 0};